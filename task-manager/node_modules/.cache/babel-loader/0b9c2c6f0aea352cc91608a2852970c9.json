{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\genhk\\\\OneDrive\\\\Desktop\\\\ellie's\\\\taskm\\\\react-tasks-manager\\\\task-manager\\\\src\\\\Components\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport $ from 'jquery'; // import styled components\n\nimport styled from 'styled-components'; // import bootstrap\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'; // import Toggle Task Form Button\n\nimport TaskFormToggle from './TaskFormToggle'; //import Sidebar\n\nimport SideBar from './SideBar';\nimport HomePage from './HomePage';\nimport TaskForm from './TaskForm';\nimport ListsPage from './ListsPage';\nimport Main from './Main'; //database\n\nimport { addDoc } from 'firebase/firestore';\nimport { testCollectionRef } from '../db';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Body = styled.div`\n  padding: 0;\n  overflow: hidden;\n`;\nconst MainRow = styled.div`\n  height: 100vh;\n  overflow: hidden\n`;\n_c = MainRow;\n\nfunction App() {\n  _s();\n\n  // const allTasksRef = collection(db, \"task\")\n  // upload to db \n  // const createTask = async () => {\n  //   await addDoc(testCollectionRef, { title: '1' , notes: \"newTask.notes\", date: \"newTask.Date\"});}\n  //   await addDoc(testCollectionRef, { allTasks });}\n  useEffect(() => {\n    const createTask = async () => {\n      // await addDoc(testCollectionRef, { title: newTask.title , notes: newTask.notes, date: newTask.Date});\n      await addDoc(testCollectionRef, {});\n    };\n\n    createTask();\n  }, []); // state of new task input\n\n  const [newTask, setNewTask] = useState({});\n  const [allTasks, setAllTasks] = useState(null);\n  const [allTasksList, setAllTasksList] = useState([]); // lists for dnd\n  // const [list, setList] = useState({})\n  // const [allLists, setAllLists] = useState([])\n\n  const onDragEnd = result => {\n    const {\n      destination,\n      source,\n      draggableId\n    } = result;\n\n    if (!destination) {\n      return;\n    }\n\n    if (destination.droppableId === source.droppableId && destination.index === source.index) {\n      return;\n    }\n\n    const newTaskIds = Array.from(allTasksList);\n    newTaskIds.splice(source.index, 1);\n    newTaskIds.splice(destination.index, 0, draggableId);\n    const newColumn = newTaskIds;\n    setAllTasksList(newColumn);\n    console.log('123');\n  }; // new task form input\n\n\n  const handleChange = _ref => {\n    let {\n      target\n    } = _ref;\n    // insert corresponding name and input as porperty [name] & value in the newTask object\n    const {\n      name,\n      value\n    } = target; // generate id for each task\n\n    const id = Date.now();\n    setNewTask(prevNewTask => ({ ...prevNewTask,\n      [name]: value,\n      id: id,\n      done: false\n    })); // console.log(allTasks)\n  }; //submit task\n\n\n  const handleSubmit = event => {\n    // prevent default action\n    // event.preventDefault();\n    // shift new task in all tasks list (before previous task(s))\n    setAllTasks(prevAllTasks => ({ ...prevAllTasks,\n      [newTask.id]: newTask\n    })); // add task id to all tasks list\n\n    setAllTasksList(prev => [...prev, newTask.id]); // empty the value of newTask\n\n    setNewTask({});\n  }; //Remove tasks marked as done\n\n\n  const handleRemoveDone = e => {\n    e.preventDefault();\n    setAllTasksList(allTasksList.filter(task => {\n      //keep tasks haven't been done on list, for later return\n      const taskToKeep = allTasks[task].done === false; // delete task(s) done\n\n      if (allTasks[task].done === true) {\n        delete allTasks[task];\n      }\n\n      return taskToKeep;\n    }));\n  };\n\n  const handleRemoveTask = taskId => {\n    delete allTasks[taskId];\n    setAllTasksList(allTasksList.filter(task => task !== taskId));\n  }; // edit task detail\n\n\n  const handleEditTask = (taskId, content) => {\n    setAllTasks(prevAllTasks => ({ ...prevAllTasks,\n      [taskId]: content\n    }));\n  }; // // toggle task done status\n\n\n  const handleToggleDone = taskId => {\n    setAllTasks(prevAllTasks => ({ ...prevAllTasks,\n      [taskId]: { ...allTasks[taskId],\n        done: !allTasks[taskId].done\n      }\n    }));\n  }; // Toggle add task form\n\n\n  useEffect(() => {\n    $(document).ready(function () {\n      $('#addTask').on(\"click\", function () {\n        $(\"#taskForm\").toggleClass(\"active\");\n        $(\"#addBtn\").toggleClass(\"active\");\n      });\n    });\n  }, []); // fetch local data from local storge on page loaded\n\n  useEffect(() => {\n    if (!allTasks) {\n      // fetch data from local storage\n      const data = localStorage.getItem('testing-task'); // add the parsed data to allTasks\n\n      setAllTasks(JSON.parse(data));\n    }\n  }, []);\n  useEffect(() => {\n    // fetch data from local storage\n    const data = localStorage.getItem('testing-task-list'); // add the parsed data to allTasks\n\n    setAllTasksList(JSON.parse(data));\n  }, []); // store tasks to local storage while adding task\n\n  useEffect(() => {\n    localStorage.setItem('testing-task', JSON.stringify(allTasks));\n  }, [allTasks, allTasksList]);\n  useEffect(() => {\n    localStorage.setItem('testing-task-list', JSON.stringify(allTasksList));\n  }, [allTasksList]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(TaskFormToggle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      style: {\n        padding: 0,\n        overflow: 'hidden'\n      },\n      children: /*#__PURE__*/_jsxDEV(MainRow, {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            style: {\n              height: '100vh'\n            },\n            children: [/*#__PURE__*/_jsxDEV(HomePage, {\n              allTasksList: allTasksList,\n              allTasks: allTasks,\n              handleRemoveDone: handleRemoveDone,\n              onDragEnd: onDragEnd,\n              handleEditTask: handleEditTask,\n              handleToggleDone: handleToggleDone,\n              handleRemoveTask: handleRemoveTask\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListsPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TaskForm, {\n          newTask: newTask,\n          handleSubmit: handleSubmit,\n          handleChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"hMIV1gcZf8aIxzhqOR83wQWMPHA=\");\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MainRow\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["C:/Users/genhk/OneDrive/Desktop/ellie's/taskm/react-tasks-manager/task-manager/src/Components/App.js"],"names":["useState","useEffect","$","styled","TaskFormToggle","SideBar","HomePage","TaskForm","ListsPage","Main","addDoc","testCollectionRef","Body","div","MainRow","App","createTask","newTask","setNewTask","allTasks","setAllTasks","allTasksList","setAllTasksList","onDragEnd","result","destination","source","draggableId","droppableId","index","newTaskIds","Array","from","splice","newColumn","console","log","handleChange","target","name","value","id","Date","now","prevNewTask","done","handleSubmit","event","prevAllTasks","prev","handleRemoveDone","e","preventDefault","filter","task","taskToKeep","handleRemoveTask","taskId","handleEditTask","content","handleToggleDone","document","ready","on","toggleClass","data","localStorage","getItem","JSON","parse","setItem","stringify","padding","overflow","height"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAOC,CAAP,MAAc,QAAd,C,CAEA;;AACA,OAAOC,MAAP,MAAkB,mBAAlB,C,CACA;;AACA,OAAO,sCAAP;AAEA,OAAO,WAAP,C,CAGA;;AACA,OAAOC,cAAP,MAA2B,kBAA3B,C,CAEA;;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,OAAOC,IAAP,MAAiB,QAAjB,C,CAEA;;AACA,SAAQC,MAAR,QAAsB,oBAAtB;AACA,SAAQC,iBAAR,QAAgC,OAAhC;;AAGA,MAAMC,IAAI,GAAGT,MAAM,CAACU,GAAI;AACxB;AACA;AACA,CAHA;AAKA,MAAMC,OAAO,GAAGX,MAAM,CAACU,GAAI;AAC3B;AACA;AACA,CAHA;KAAMC,O;;AAON,SAASC,GAAT,GAAe;AAAA;;AACf;AAGE;AACA;AACA;AACA;AAEFd,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMe,UAAU,GAAG,YAAY;AAC7B;AAEA,YAAMN,MAAM,CAACC,iBAAD,EAAoB,EAApB,CAAZ;AAAqC,KAHvC;;AAIEK,IAAAA,UAAU;AACb,GANQ,EAMN,EANM,CAAT,CATe,CAkBd;;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAC,EAAD,CAAtC;AACC,QAAM,CAACmB,QAAD,EAAWC,WAAX,IAA0BpB,QAAQ,CAAC,IAAD,CAAxC;AAEA,QAAM,CAACqB,YAAD,EAAeC,eAAf,IAAkCtB,QAAQ,CAAC,EAAD,CAAhD,CAtBa,CAwBb;AACA;AACA;;AAEA,QAAMuB,SAAS,GAAGC,MAAM,IAAI;AAC1B,UAAM;AAAEC,MAAAA,WAAF;AAAeC,MAAAA,MAAf;AAAuBC,MAAAA;AAAvB,QAAuCH,MAA7C;;AAEA,QAAG,CAACC,WAAJ,EAAiB;AACb;AACH;;AAED,QACIA,WAAW,CAACG,WAAZ,KAA4BF,MAAM,CAACE,WAAnC,IACAH,WAAW,CAACI,KAAZ,KAAsBH,MAAM,CAACG,KAFjC,EAGE;AACE;AACH;;AAED,UAAMC,UAAU,GAAGC,KAAK,CAACC,IAAN,CAAWX,YAAX,CAAnB;AAEAS,IAAAA,UAAU,CAACG,MAAX,CAAkBP,MAAM,CAACG,KAAzB,EAAgC,CAAhC;AACAC,IAAAA,UAAU,CAACG,MAAX,CAAkBR,WAAW,CAACI,KAA9B,EAAqC,CAArC,EAAwCF,WAAxC;AAEA,UAAMO,SAAS,GAAGJ,UAAlB;AAEAR,IAAAA,eAAe,CAACY,SAAD,CAAf;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH,GAvBC,CA5Ba,CAqDb;;;AACD,QAAMC,YAAY,GAAG,QAAgB;AAAA,QAAf;AAAEC,MAAAA;AAAF,KAAe;AACpC;AACA,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,MAAxB,CAFoC,CAGlC;;AACA,UAAMG,EAAE,GAAGC,IAAI,CAACC,GAAL,EAAX;AAEFzB,IAAAA,UAAU,CAAE0B,WAAD,KAAkB,EAC5B,GAAGA,WADyB;AAEvB,OAACL,IAAD,GAAQC,KAFe;AAGvBC,MAAAA,EAAE,EAAEA,EAHmB;AAIvBI,MAAAA,IAAI,EAAE;AAJiB,KAAlB,CAAD,CAAV,CANoC,CAclC;AACF,GAfD,CAtDc,CAuEb;;;AACD,QAAMC,YAAY,GAAIC,KAAD,IAAW;AAC/B;AACA;AAEC;AACA3B,IAAAA,WAAW,CAAE4B,YAAD,KAAmB,EAC9B,GAAGA,YAD2B;AAE1B,OAAC/B,OAAO,CAACwB,EAAT,GAAcxB;AAFY,KAAnB,CAAD,CAAX,CAL8B,CAW3B;;AACAK,IAAAA,eAAe,CAAE2B,IAAD,IAAW,CACzB,GAAGA,IADsB,EAEzBhC,OAAO,CAACwB,EAFiB,CAAZ,CAAf,CAZ2B,CAiB9B;;AACAvB,IAAAA,UAAU,CAAC,EAAD,CAAV;AACD,GAnBD,CAxEc,CA8Fb;;;AACA,QAAMgC,gBAAgB,GAAGC,CAAC,IAAI;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AACE9B,IAAAA,eAAe,CAACD,YAAY,CAACgC,MAAb,CAAoBC,IAAI,IACtC;AACE;AACA,YAAMC,UAAU,GAAGpC,QAAQ,CAACmC,IAAD,CAAR,CAAeT,IAAf,KAAwB,KAA3C,CAFF,CAIE;;AACA,UAAG1B,QAAQ,CAACmC,IAAD,CAAR,CAAeT,IAAf,KAAwB,IAA3B,EAAiC;AAC/B,eAAO1B,QAAQ,CAACmC,IAAD,CAAf;AACD;;AACD,aAAOC,UAAP;AACD,KAVa,CAAD,CAAf;AAaD,GAfD;;AAiBA,QAAMC,gBAAgB,GAAGC,MAAM,IAAI;AACjC,WAAOtC,QAAQ,CAACsC,MAAD,CAAf;AACAnC,IAAAA,eAAe,CAACD,YAAY,CAACgC,MAAb,CAAoBC,IAAI,IAAIA,IAAI,KAAKG,MAArC,CAAD,CAAf;AACD,GAHD,CAhHa,CAqHb;;;AACA,QAAMC,cAAc,GAAG,CAACD,MAAD,EAASE,OAAT,KAAqB;AAC1CvC,IAAAA,WAAW,CAAC4B,YAAY,KAAK,EAC3B,GAAGA,YADwB;AAE3B,OAACS,MAAD,GAAUE;AAFiB,KAAL,CAAb,CAAX;AAID,GALD,CAtHa,CA6Hb;;;AACA,QAAMC,gBAAgB,GAAIH,MAAD,IAAY;AACjCrC,IAAAA,WAAW,CAAC4B,YAAY,KAAK,EAC3B,GAAGA,YADwB;AAE3B,OAACS,MAAD,GAAU,EACR,GAAGtC,QAAQ,CAACsC,MAAD,CADH;AAERZ,QAAAA,IAAI,EAAE,CAAC1B,QAAQ,CAACsC,MAAD,CAAR,CAAiBZ;AAFhB;AAFiB,KAAL,CAAb,CAAX;AAOH,GARD,CA9Ha,CAyIb;;;AACA5C,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,CAAC,CAAC2D,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;AAC3B5D,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAc6D,EAAd,CAAiB,OAAjB,EAA0B,YAAW;AACjC7D,QAAAA,CAAC,CAAC,WAAD,CAAD,CAAe8D,WAAf,CAA2B,QAA3B;AACA9D,QAAAA,CAAC,CAAC,SAAD,CAAD,CAAa8D,WAAb,CAAyB,QAAzB;AACH,OAHD;AAIH,KALC;AAMD,GAPQ,EAOP,EAPO,CAAT,CA1Ia,CAoJb;;AACA/D,EAAAA,SAAS,CAAC,MAAM;AACd,QAAG,CAACkB,QAAJ,EAAc;AACZ;AACA,YAAM8C,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAb,CAFY,CAGZ;;AACA/C,MAAAA,WAAW,CAACgD,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAD,CAAX;AACD;AACF,GAPQ,EAON,EAPM,CAAT;AAWAhE,EAAAA,SAAS,CAAC,MAAM;AACZ;AACA,UAAMgE,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAAb,CAFY,CAGZ;;AACA7C,IAAAA,eAAe,CAAC8C,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAD,CAAf;AACH,GALQ,EAKN,EALM,CAAT,CAhKa,CAuKX;;AACHhE,EAAAA,SAAS,CAAC,MAAM;AACfiE,IAAAA,YAAY,CAACI,OAAb,CAAqB,cAArB,EAAqCF,IAAI,CAACG,SAAL,CAAepD,QAAf,CAArC;AACA,GAFQ,EAEN,CAACA,QAAD,EAAWE,YAAX,CAFM,CAAT;AAIApB,EAAAA,SAAS,CAAC,MAAM;AACfiE,IAAAA,YAAY,CAACI,OAAb,CAAqB,mBAArB,EAA0CF,IAAI,CAACG,SAAL,CAAelD,YAAf,CAA1C;AACA,GAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;AASC,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAiC,MAAA,KAAK,EAAE;AAACmD,QAAAA,OAAO,EAAE,CAAV;AAAaC,QAAAA,QAAQ,EAAE;AAAvB,OAAxC;AAAA,6BACE,QAAC,OAAD;AAAS,QAAA,SAAS,EAAC,KAAnB;AAAA,gCACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,gBADF,eAKE;AAAM,UAAA,SAAS,EAAC,KAAhB;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,KAAf;AAAqB,YAAA,KAAK,EAAE;AAACC,cAAAA,MAAM,EAAE;AAAT,aAA5B;AAAA,oCAEE,QAAC,QAAD;AACE,cAAA,YAAY,EAAErD,YADhB;AAEE,cAAA,QAAQ,EAAEF,QAFZ;AAGE,cAAA,gBAAgB,EAAE+B,gBAHpB;AAIE,cAAA,SAAS,EAAE3B,SAJb;AAKE,cAAA,cAAc,EAAEmC,cALlB;AAME,cAAA,gBAAgB,EAAEE,gBANpB;AAOE,cAAA,gBAAgB,EAAEJ;AAPpB;AAAA;AAAA;AAAA;AAAA,oBAFF,eAYE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,oBAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBALF,eAyBE,QAAC,QAAD;AACE,UAAA,OAAO,EAAEvC,OADX;AAEE,UAAA,YAAY,EAAE6B,YAFhB;AAGE,UAAA,YAAY,EAAET;AAHhB;AAAA;AAAA;AAAA;AAAA,gBAzBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgDD;;GArOQtB,G;;MAAAA,G;AAuOT,eAAeA,GAAf","sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nimport $ from 'jquery';\r\n\r\n// import styled components\r\nimport styled from'styled-components';\r\n// import bootstrap\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport './App.css';\r\n\r\n\r\n// import Toggle Task Form Button\r\nimport TaskFormToggle from './TaskFormToggle';\r\n\r\n//import Sidebar\r\nimport SideBar from './SideBar';\r\nimport HomePage from './HomePage';\r\nimport TaskForm from './TaskForm';\r\nimport ListsPage from './ListsPage';\r\n\r\nimport Main from './Main';\r\n\r\n//database\r\nimport {addDoc } from 'firebase/firestore'\r\nimport {testCollectionRef} from '../db'\r\n\r\n\r\nconst Body = styled.div`\r\n  padding: 0;\r\n  overflow: hidden;\r\n`\r\n\r\nconst MainRow = styled.div`\r\n  height: 100vh;\r\n  overflow: hidden\r\n`\r\n\r\n\r\n\r\nfunction App() {\r\n// const allTasksRef = collection(db, \"task\")\r\n\r\n\r\n  // upload to db \r\n  // const createTask = async () => {\r\n  //   await addDoc(testCollectionRef, { title: '1' , notes: \"newTask.notes\", date: \"newTask.Date\"});}\r\n  //   await addDoc(testCollectionRef, { allTasks });}\r\n\r\nuseEffect(() => { \r\n  const createTask = async () => {\r\n    // await addDoc(testCollectionRef, { title: newTask.title , notes: newTask.notes, date: newTask.Date});\r\n    \r\n    await addDoc(testCollectionRef, {});}\r\n    createTask();\r\n}, [])\r\n\r\n\r\n\t// state of new task input\r\n\tconst [newTask, setNewTask] = useState({});\r\n  const [allTasks, setAllTasks] = useState(null);\r\n\r\n  const [allTasksList, setAllTasksList] = useState([])\r\n\r\n  // lists for dnd\r\n  // const [list, setList] = useState({})\r\n  // const [allLists, setAllLists] = useState([])\r\n\r\n  const onDragEnd = result => {\r\n    const { destination, source, draggableId } = result;\r\n\r\n    if(!destination) {\r\n        return;\r\n    }\r\n\r\n    if (\r\n        destination.droppableId === source.droppableId &&\r\n        destination.index === source.index\r\n    ) {\r\n        return;\r\n    }\r\n\r\n    const newTaskIds = Array.from(allTasksList);\r\n\r\n    newTaskIds.splice(source.index, 1);\r\n    newTaskIds.splice(destination.index, 0, draggableId);\r\n\r\n    const newColumn = newTaskIds;\r\n\r\n    setAllTasksList(newColumn);\r\n    console.log('123')\r\n}\r\n\r\n  // new task form input\r\n\tconst handleChange = ({ target }) => {\r\n\t\t// insert corresponding name and input as porperty [name] & value in the newTask object\r\n\t\tconst { name, value } = target;\r\n    // generate id for each task\r\n    const id = Date.now();\r\n\r\n\t\tsetNewTask((prevNewTask) => ({\r\n\t\t\t...prevNewTask,\r\n        [name]: value,\r\n        id: id,\r\n        done: false,\r\n\t\t})\r\n\t\t);\r\n\r\n    // console.log(allTasks)\r\n\t};\r\n\r\n  //submit task\r\n\tconst handleSubmit = (event) => {\r\n\t\t// prevent default action\r\n\t\t// event.preventDefault();\r\n\r\n\t\t\t// shift new task in all tasks list (before previous task(s))\r\n\t\t\tsetAllTasks((prevAllTasks) => ({\r\n\t\t\t\t...prevAllTasks,\r\n        [newTask.id]: newTask,\r\n      })\r\n\t\t\t);\r\n\r\n      // add task id to all tasks list\r\n      setAllTasksList((prev) => ([\r\n        ...prev,\r\n        newTask.id\r\n      ]))\r\n\r\n\t\t\t// empty the value of newTask\r\n\t\t\tsetNewTask({});\r\n\t}\r\n  \r\n\r\n  //Remove tasks marked as done\r\n  const handleRemoveDone = e => {\r\n\t\te.preventDefault();\r\n    setAllTasksList(allTasksList.filter(task => \r\n      { \r\n        //keep tasks haven't been done on list, for later return\r\n        const taskToKeep = allTasks[task].done === false;\r\n\r\n        // delete task(s) done\r\n        if(allTasks[task].done === true) {\r\n          delete allTasks[task]\r\n        }\r\n        return taskToKeep\r\n      }\r\n      ))\r\n      ;\r\n  }\r\n\r\n  const handleRemoveTask = taskId => {\r\n    delete allTasks[taskId]\r\n    setAllTasksList(allTasksList.filter(task => task !== taskId))\r\n  }\r\n\r\n  // edit task detail\r\n  const handleEditTask = (taskId, content) => {\r\n    setAllTasks(prevAllTasks => ({\r\n      ...prevAllTasks,\r\n      [taskId]: content\r\n    }))\r\n  }\r\n\r\n  // // toggle task done status\r\n  const handleToggleDone = (taskId) => {\r\n      setAllTasks(prevAllTasks => ({\r\n        ...prevAllTasks,\r\n        [taskId]: {\r\n          ...allTasks[taskId],\r\n          done: !allTasks[taskId].done\r\n        }\r\n      }))\r\n  }\r\n\r\n\r\n  // Toggle add task form\r\n  useEffect(() => {\r\n    $(document).ready(function() {\r\n      $('#addTask').on(\"click\", function() {\r\n          $(\"#taskForm\").toggleClass(\"active\");\r\n          $(\"#addBtn\").toggleClass(\"active\");\r\n      })\r\n  })\r\n  },[])\r\n\r\n\r\n  // fetch local data from local storge on page loaded\r\n  useEffect(() => {\r\n    if(!allTasks) {\r\n      // fetch data from local storage\r\n      const data = localStorage.getItem('testing-task');\r\n      // add the parsed data to allTasks\r\n      setAllTasks(JSON.parse(data));\r\n    }\r\n  }, [])\r\n\r\n\r\n\r\n  useEffect(() => {\r\n      // fetch data from local storage\r\n      const data = localStorage.getItem('testing-task-list');\r\n      // add the parsed data to allTasks\r\n      setAllTasksList(JSON.parse(data));\r\n  }, [])\r\n\r\n    // store tasks to local storage while adding task\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem('testing-task', JSON.stringify(allTasks))\r\n\t}, [allTasks, allTasksList])\r\n\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem('testing-task-list', JSON.stringify(allTasksList))\r\n\t}, [allTasksList])\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <TaskFormToggle />\r\n      <div className='container-fluid' style={{padding: 0, overflow: 'hidden'}}>\r\n        <MainRow className='row'>\r\n          <SideBar />\r\n\r\n\r\n          {/* <Main /> */}\r\n          <main className=\"col\">\r\n            <div className=\"row\" style={{height: '100vh'}}>\r\n\r\n              <HomePage\r\n                allTasksList={allTasksList}\r\n                allTasks={allTasks}\r\n                handleRemoveDone={handleRemoveDone}\r\n                onDragEnd={onDragEnd}\r\n                handleEditTask={handleEditTask}\r\n                handleToggleDone={handleToggleDone}\r\n                handleRemoveTask={handleRemoveTask}\r\n                />\r\n\r\n              <ListsPage />\r\n\r\n\r\n            </div>\r\n\r\n          </main>\r\n\r\n          <TaskForm\r\n            newTask={newTask}\r\n            handleSubmit={handleSubmit}\r\n            handleChange={handleChange}\r\n          />\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        </MainRow>\r\n\r\n        \r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}